"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _sortGlobal = function _sortGlobal(obj, compareFunction) {
    var wrappedFunction = compareFunction ? function (a, b) {
        return compareFunction({ key: a, value: obj[a] }, { key: b, value: obj[b] });
    } : undefined;

    // console.log(compareFunction.toString());
    return Object.keys(obj).sort(wrappedFunction).reduce(function (r, key) {
        return _extends({}, r, _defineProperty({}, key, obj[key]));
    }, {});
};

var _compareValues = function _compareValues(value1, value2, direction) {
    return direction * (value1 > value2 ? 1 : value1 === value2 ? 0 : -1);
};

var _sortByValue = function _sortByValue(obj) {
    var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _sortDirection.ascending;
    var valueSelector = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (value) {
        return value;
    };
    return _sortGlobal(obj, function (_ref, _ref2) {
        var valueA = _ref.value;
        var valueB = _ref2.value;
        return _compareValues(valueSelector(valueA), valueSelector(valueB), direction);
    });
};
var _sortByKey = function _sortByKey(obj) {
    var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _sortDirection.ascending;
    return _sortGlobal(obj, function (_ref3, _ref4) {
        var keyA = _ref3.key;
        var keyB = _ref4.key;
        return _compareValues(keyA, keyB, direction);
    });
};

var _sortDirection = {
    ascending: 1,
    descending: -1
};

_sortGlobal.value = _sortByValue;
_sortGlobal.key = _sortByKey;
_sortGlobal.sortDirection = _sortDirection;

var sort = _sortGlobal;
exports.default = sort;
module.exports = exports["default"];